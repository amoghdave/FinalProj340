{"ast":null,"code":"import _classCallCheck from \"/Users/iguest/Desktop/FinalProj340/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iguest/Desktop/FinalProj340/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iguest/Desktop/FinalProj340/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iguest/Desktop/FinalProj340/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iguest/Desktop/FinalProj340/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/iguest/Desktop/FinalProj340/src/stories.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Card, CardBody, CardText, Row } from 'reactstrap'; // query gets a list of all section titles for INDIA\n\nvar sectionsLink = 'https://en.wikipedia.org/w/api.php?action=parse&prop=sections&format=json&origin=*&page='; //query gets the section text for that country and for the specified section\n\nvar sectionText = 'https://en.wikipedia.org/w/api.php?action=parse&prop=text&format=json&origin=*&page=';\nexport var Stories =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Stories, _Component);\n\n  function Stories(props) {\n    var _this;\n\n    _classCallCheck(this, Stories);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Stories).call(this, props));\n    _this.state = {\n      sectionsList: {\n        culture: {\n          subSections: []\n        }\n      }\n    };\n    return _this;\n  } // action = query\n  // prop = info\n\n\n  _createClass(Stories, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var culture;\n      fetch(sectionsLink + this.props.match.params.countryName).then(function (results) {\n        return results.json();\n      }).then(function (data) {\n        culture = data.parse.sections.find(function (section) {\n          return section.line === 'Culture';\n        });\n        var subSections = data.parse.sections.filter(function (subSection) {\n          return subSection.number.startsWith(culture.number + '.');\n        });\n        culture.subSections = subSections;\n        var queryAll = subSections.map(function (subSection) {\n          return fetch(sectionText + _this2.props.match.params.countryName + '&section=' + subSection.index);\n        });\n        return Promise.all(queryAll);\n      }).then(function (outputArray) {\n        return Promise.all(outputArray.map(function (output) {\n          return output.json();\n        }));\n      }).then(function (subSectionContentArray) {\n        culture.subSections.forEach(function (subSection, i) {\n          subSection.content = subSectionContentArray[i].parse.text['*'];\n        });\n\n        _this2.setState({\n          sectionsList: {\n            culture: culture\n          }\n        });\n\n        console.log(culture);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props.match.params.countryName);\n      var data = this.state.sectionsList.culture.subSections;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, data.map(function (d, i) {\n        return React.createElement(Row, {\n          sm: \"6\",\n          key: \"project\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(CardBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(CardText, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: d.content\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        })))), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }));\n      }));\n    }\n  }]);\n\n  return Stories;\n}(Component);","map":{"version":3,"sources":["/Users/iguest/Desktop/FinalProj340/src/stories.js"],"names":["React","Component","Card","CardBody","CardText","Row","sectionsLink","sectionText","Stories","props","state","sectionsList","culture","subSections","fetch","match","params","countryName","then","results","json","data","parse","sections","find","section","line","filter","subSection","number","startsWith","queryAll","map","index","Promise","all","outputArray","output","subSectionContentArray","forEach","i","content","text","setState","console","log","d","__html"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Card, CardBody, CardText, Row } from 'reactstrap';\n\n// query gets a list of all section titles for INDIA\nconst sectionsLink = 'https://en.wikipedia.org/w/api.php?action=parse&prop=sections&format=json&origin=*&page=';\n//query gets the section text for that country and for the specified section\nconst sectionText = 'https://en.wikipedia.org/w/api.php?action=parse&prop=text&format=json&origin=*&page=';\n\nexport class Stories extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sectionsList: {\n                culture: {\n                    subSections: []\n                }\n            }\n        }\n    }\n\n    // action = query\n    // prop = info\n\n    componentDidMount() {\n        let culture;\n        fetch(sectionsLink + this.props.match.params.countryName)\n            .then(results => {\n                return results.json();\n            }).then(data => {\n                culture = data.parse.sections.find((section) => {\n                    return section.line === 'Culture';\n                });\n                let subSections = data.parse.sections.filter((subSection) => {\n                    return subSection.number.startsWith(culture.number + '.');\n                })\n                culture.subSections = subSections;\n                let queryAll = subSections.map((subSection) => {\n                    return fetch(sectionText + this.props.match.params.countryName + '&section=' + subSection.index);\n                })\n                return Promise.all(queryAll);\n            }).then(outputArray => {\n                return Promise.all(outputArray.map((output) => {\n                    return output.json()\n                }));\n            }).then(subSectionContentArray => {\n                culture.subSections.forEach((subSection, i) => {\n                    subSection.content = subSectionContentArray[i].parse.text['*'];\n                });\n                this.setState({\n                    sectionsList: {\n                        culture: culture\n                    }\n                });\n                console.log(culture);\n            })\n    }\n\n    render() {\n        console.log(this.props.match.params.countryName);\n        let data = this.state.sectionsList.culture.subSections;\n        return (\n            <div className=\"container\">\n                {data.map((d, i) => {\n                    return (\n                        <Row sm=\"6\" key={\"project\" + i}>\n                            <Card>\n                                {/* <CardImg top width=\"50%\" src={d.EventImage} alt={d.EventName} /> */}\n                                <CardBody>\n                                    {/* <CardTitle>\n                                        {d.line}\n                                    </CardTitle> */}\n                                    <CardText>\n                                        <div dangerouslySetInnerHTML={{__html: d.content}}></div>\n                                    </CardText>\n                                    {/* <CardText>\n                                        <small className=\"text-muted\">{d.ImageAttribution}</small>\n                                    </CardText> */}\n                                    {/* <a target=\"_blank\" href=\"https://www.infoplease.com/world/current-events-world-us-science-and-business-news\">\n                                        <Button>Link</Button>\n                                    </a> */}\n                                </CardBody>\n                            </Card>\n                            <br />\n                        </Row>\n                    )\n\n                })}\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}